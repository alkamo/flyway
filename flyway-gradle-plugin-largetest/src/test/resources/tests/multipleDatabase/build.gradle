buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
    }
    dependencies {
        classpath 'org.hsqldb:hsqldb:2.2.8'
        classpath "org.flywaydb:flyway-gradle-plugin:${flywayVersion}"
    }
}

apply plugin: 'org.flywaydb.flyway'
apply plugin: 'java'
apply plugin: 'maven'

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile 'org.springframework:spring-jdbc:3.0.5.RELEASE'
    compile "org.flywaydb:flyway-core:${flywayVersion}"
}

flyway {
    url = "jdbc:hsqldb:file:${buildDir}/db/flyway_sample;shutdown=true"
    placeholders = ['execUserName' : "${project.name}"]
    baselineVersion = 0
    target = '7'
    databases {
        sample_a {
            url = "jdbc:hsqldb:file:${buildDir}/db/flyway_sample_a;shutdown=true"
            sqlMigrationPrefix = 'A'
        }
        sample_b {
            url = "jdbc:hsqldb:file:${buildDir}/db/flyway_sample_b;shutdown=true"
            sqlMigrationPrefix = 'B'
        }
    }
}

